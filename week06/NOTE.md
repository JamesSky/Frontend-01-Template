# 每周总结可以写在这里
## 有限状态机
- 每个状态都是一个机器
  - 每个机器都可以做计算、存储、输出
  - 所有的机器接手的输入一致
  - 状态机的每个机器本身没有状态(纯函数)
- 每个机器知道下一个状态
  - 每个机器都有确定的下一个状态(Moore)
  - 每个机器根据输入决定下一个状态(Mealy)
## JS中的有限状态机(Mealy)
- 每个函数是一个状态 函数参数是输入 在函数中可以自由的编写代码 处理每个状态的逻辑 返回值作为下一个状态 
## DOM解析
- 主要的标签 : 开始标签 结束标签 自封闭标签
- 属性值分为 单引号 双引号 无引号 三种写法 
- 标签构建DOM树的基本技巧是使用栈
  - 遇到开始标签时创建元素并入栈 遇到结束标签时出栈
  - 自封闭节点可以视为入栈后立即出栈
  - 任何元素的父元素是他入栈前的栈顶
- 文本节点处理类似自封闭标签
  - 多个连续文本节点要合并
## CSS解析
- 收集CSS规则
- 每个元素生成时都要进行css计算防止大量计算造成页面渲染时间过长
- 当我们分析一个元素时 所有的CSS已经收集完毕
- 在真实浏览器中 可能遇到写在body中的style标签 需要重新CSS计算的情况
- 在computeCSS过程中 我们必须知道元素的所有父元素才能判断元素与规则是否匹配
- 因为我们首先获取的是当前元素 所以我们获得和计算父元素匹配的顺序是从内向外
- 选择器也要从当前元素向外排列
- 复杂选择器拆分成针对单个元素的选择器 循环匹配父元素队列
- 根据选择器的类型和元素属性 计算是否与当前元素相匹配
- 一旦选择器匹配 就应用选择器到元素上 形成computedStyle
- 可以用四元组表示规则的权重 从最高权重开始比较